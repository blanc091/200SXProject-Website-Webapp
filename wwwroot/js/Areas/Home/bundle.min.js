function scrollToElement(n){var t=document.getElementById(n);t?t.scrollIntoView({behavior:"smooth"}):console.error(`${n} not found!`)}function loadGoogleAnalytics(){if(document.getElementById("google-analytics-script"))console.log("Google Analytics script already loaded");else{const n=document.createElement("script");n.id="google-analytics-script";n.src="https://www.googletagmanager.com/gtag/js?id=G-6TGFNLDLZ5";n.async=!0;n.onload=function(){console.log("Google Analytics script loaded");console.log(document.getElementById("google-analytics-script"))};document.head.appendChild(n)}}function loadGoogleAds(){var n=document.createElement("script");n.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8385228399742318";n.async=!0;n.crossOrigin="anonymous";document.head.appendChild(n);console.log("Google Ads script loaded")}function removeGoogleAnalytics(){var t=document.querySelector('script[src="https://www.googletagmanager.com/gtag/js?id=G-6TGFNLDLZ5"]'),n;t&&t.parentNode.removeChild(t);n=document.querySelector("script[data-gtag-init]");n&&n.parentNode.removeChild(n);window.dataLayer&&(window.dataLayer=[])}function removeGoogleAds(){var n=document.querySelector('script[src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8385228399742318"]');n&&n.parentNode.removeChild(n)}document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("logoutLink");console.log("DOM fully loaded and parsed");n?n.addEventListener("click",function(n){console.log("Logout link clicked");n.preventDefault();var t=document.querySelector('input[name="__RequestVerificationToken"]').value;fetch("/loginregister/logout",{method:"POST",headers:{"Content-Type":"application/json",RequestVerificationToken:t}}).then(n=>{n.ok?(console.log("Logout successful"),window.location.href="/"):console.error("Logout failed")}).catch(n=>{console.error("Error:",n)})}):console.log("Logout link not found or user not logged in.")});document.addEventListener("DOMContentLoaded",function(){const n=document.createElement("button");n.innerText="Top";n.id="scrollToTop";n.style.position="fixed";n.style.bottom="100px";n.style.right="10px";n.style.display="none";n.style.zIndex="1000";n.style.padding="10px 15px";n.style.backgroundColor="white";n.style.color="blue";n.style.border="none";n.style.borderRadius="5px";n.style.cursor="pointer";n.style.fontSize="16px";n.style.height="30px";n.style.width="60px";n.style.boxShadow="0 2px 5px rgba(0, 0, 0, 0.2)";n.style.transition="opacity 0.5s ease";n.style.opacity="0";n.style.textAlign="center";n.style.display="flex";n.style.alignItems="center";n.style.justifyContent="center";document.body.appendChild(n);window.addEventListener("scroll",function(){const t=window.scrollY||document.documentElement.scrollTop,i=document.documentElement.scrollHeight,r=window.innerHeight;t>(i-r)*.25?n.style.opacity!=="0"&&n.style.opacity||(n.style.display="flex",setTimeout(()=>{n.style.opacity="1"},10)):n.style.opacity==="1"&&(n.style.opacity="0",setTimeout(()=>{n.style.display="none"},500))});n.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelectorAll(".delete-comment-link");n.forEach(n=>{n.addEventListener("click",t=>{t.preventDefault();const i=n.closest("form");i&&i.submit()})})});document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector('a[asp-controller="Home"][asp-action="Index"][asp-fragment="posts"]'),t="/home/index";n&&n.addEventListener("click",function(n){if(window.location.pathname.toLowerCase()===t.toLowerCase()||window.location.pathname==="/"){n.preventDefault();const t=document.getElementById("posts");t&&t.scrollIntoView({behavior:"smooth"})}})});document.addEventListener("DOMContentLoaded",function(){function t(){var n=document.getElementById("contactForm");n?n.scrollIntoView({behavior:"smooth"}):console.error("Contact form not found!")}var s=document.body.getAttribute("data-item-added"),h=document.body.getAttribute("data-is-form-submitted"),c=document.body.getAttribute("data-is-form-success"),i=document.body.getAttribute("data-is-user-logged-in"),l=document.body.getAttribute("data-is-form-register-success"),a=document.body.getAttribute("data-is-email-verified-login"),v=document.body.getAttribute("data-is-user-verified"),r=document.body.getAttribute("is-entry-success"),y=document.body.getAttribute("data-user-exists"),p=document.body.getAttribute("data-is-pass-reset-email-sent"),w=document.body.getAttribute("data-is-pass-reset-success"),b=document.body.getAttribute("data-is-newsletter-subbed"),k=document.body.getAttribute("data-is-newsletter-error"),d=document.body.getAttribute("data-is-nice-try"),n=h==="True",u=c==="True",g=document.body.getAttribute("data-is-comment-posted"),nt=document.body.getAttribute("data-unsubscribed"),f=document.body.getAttribute("data-is-user-deleted"),tt=document.body.getAttribute("data-is-contact-error"),e=document.body.getAttribute("data-is-comment-deleted"),o=document.body.getAttribute("data-is-build-submitted");console.log("Current Pathname:",window.location.pathname);window.location.pathname.startsWith("/detailed-user-build")&&scrollToElement("detailedViewSection");window.location.pathname.startsWith("/products/detailed-product-view")&&scrollToElement("detailedProductViewSection");window.location.pathname.startsWith("/checkout/your-order")&&scrollToElement("orderSuccess");switch(window.location.pathname){case"/mainten-app":scrollToElement("maintenApp");break;case"/login-page":scrollToElement("header");break;case"/reset-password":case"/forgot-my-password":case"/reset-my-password":case"/newsletter/create-newsletter-admin":scrollToElement("maintenApp");break;case"/register-new-account":scrollToElement("registerFormSpan");break;case"/register-an-account":scrollToElement("registerFormSpan");break;case"/login":scrollToElement("loginField");break;case"/newsletter/subscribe":scrollToElement("newsletterFormSpan");break;case"/add-new-build":scrollToElement("addBuild");break;case"/user-builds":scrollToElement("userBuildsHeader");break;case"/products/view-products":scrollToElement("productsDash");break;case"/cart/view-cart":scrollToElement("cartView");break;case"/checkout/view-checkout":scrollToElement("checkoutView");break;case"/pendingorders/get-all-orders-admin":scrollToElement("ordersAll");break;case"/account/user-profile":scrollToElement("userProfileDash");break;case"/pendingorders/view-my-orders":scrollToElement("customerOrders");break;case"/cart/remove-cart-item":scrollToElement("cartView");break;case"/account/delete-account-confirmation":scrollToElement("userProfileDashDelete");break;case"/account/admin-dashboard":scrollToElement("adminInterfaceHeader");break;case"/submit-build":scrollToElement("Title");break;case"/products/add-product-interface":scrollToElement("addProduct");break;case"/contact/send-email":scrollToElement("ContactForm")}(i&&!n||n&&u||tt=="yes"||l=="yes"||a=="yes"||v=="no"||w=="yes"||r=="yes"||r=="no"||y=="yes"||d=="yes"||b=="yes"||g=="yes"||i=="no"||nt=="yes"||f=="yes"||f=="no"||o=="yes"||o=="no"||s=="yes"||e=="yes"||e=="no"||k=="yes"||p=="yes")&&setTimeout(function(){$("#messageModal").fadeOut(1250)},3e3);n&&!u&&t();window.location.pathname!="/account/login-account"&&window.addEventListener("scroll",function(){var n=document.getElementById("intro");n&&(window.scrollY>0?n.classList.add("hidden"):n.classList.remove("hidden"))});fetch("/api/is-logged-in").then(n=>n.json()).then(n=>{n&&window.location.pathname==="/"&&(scrollToElement("posts"),$("#tibi").css("display","flex"))});$(document).ready(function(){const i=new URLSearchParams(window.location.search);i.has("scrollToContactForm")&&t();var n=document.getElementById("contactLink");n&&n.addEventListener("click",function(n){n.preventDefault();window.location.pathname==="/home/index"?t():window.location.href="/home/index?scrollToContactForm=true"})})});document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("cookieModal"),t;n&&(n.style.display="none",document.body.classList.remove("modal-open"));t=localStorage.getItem("cookieConsent");t!=="accepted"&&t!=="denied"&&n&&(n.style.display="block",document.body.classList.add("modal-open"));document.getElementById("acceptCookies").addEventListener("click",function(){localStorage.setItem("cookieConsent","accepted");loadGoogleAnalytics();loadGoogleAds();console.log("Google Analytics and Ads scripts appended to head");n&&(n.style.display="none",document.body.classList.remove("modal-open"));localStorage.setItem("scrollToTopAfterReload","true");location.reload()});window.onload=function(){localStorage.getItem("scrollToTopAfterReload")==="true"&&(setTimeout(()=>{window.focus(),window.scrollTo(0,0)},100),localStorage.removeItem("scrollToTopAfterReload"))};document.getElementById("denyCookies").addEventListener("click",function(){localStorage.setItem("cookieConsent","denied");console.log("User denied cookie consent");n&&(n.style.display="none",document.body.classList.remove("modal-open"));location.reload()})});document.addEventListener("DOMContentLoaded",function(){function i(){const i=window.scrollY||document.documentElement.scrollTop,r=document.documentElement.scrollHeight,u=window.innerHeight,e=i>(r-u)*.05;e?n.style.visibility==="hidden"&&(n.style.display="flex",setTimeout(()=>{n.style.opacity="1",n.style.visibility="visible"},10)):f||n.style.visibility!=="visible"||(n.style.opacity="0",setTimeout(()=>{n.style.visibility="hidden",n.style.display="none"},500));i<t&&i<(r-u)*.05&&n.style.visibility==="visible"&&(n.style.opacity="0",setTimeout(()=>{n.style.visibility="hidden",n.style.display="none"},500));t=i}const u=/WebView|wv/i.test(navigator.userAgent),f=window.innerWidth<=768||/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)||u,r=document.body.getAttribute("data-is-authenticated")==="true",n=document.createElement("button");n.id="tibi";Object.assign(n.style,{position:"fixed",top:"200px",right:"15px",zIndex:"1000",padding:"10px 15px",backgroundColor:"rgba(255, 255, 255, 0.5)",color:"blue",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"10px",height:"25px",width:"50px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",transition:"opacity 0.5s ease",opacity:"0",visibility:"hidden",textAlign:"center",display:"none",alignItems:"center",justifyContent:"center"});n.innerText=r?"Profile":"Login";n.addEventListener("click",function(){if(r)window.location.href="/account/user-profile";else{const n=encodeURIComponent(window.location.pathname+window.location.search);window.location.href="/login-page?returnUrl="+n}});document.body.appendChild(n);let t=window.scrollY||document.documentElement.scrollTop;i();window.addEventListener("scroll",i);setInterval(()=>{const n=window.scrollY||document.documentElement.scrollTop;n!==t&&(i(),t=n)},250)});document.addEventListener("DOMContentLoaded",function(){const n=Intl.DateTimeFormat().resolvedOptions().timeZone;document.cookie=`userTimeZone=${n}; path=/`});document.addEventListener("DOMContentLoaded",function(){function e(n){console.log("Adding message:",n);const i=document.createElement("li"),r=new Date(n.sentAt).toLocaleTimeString();i.textContent=`[${r}] ${n.userName}: ${n.message}`;t.appendChild(i);t.scrollTop=t.scrollHeight}console.log("DOM fully loaded.");const i=document.getElementById("chatBubble"),r=document.getElementById("chatContainer"),o=document.getElementById("closeChat"),u=document.getElementById("nameInputSection");u&&(console.log("Hiding name input section."),u.style.display="none");const h=document.getElementById("messageInputSection"),f=document.getElementById("messageInput"),s=document.getElementById("sendButton"),t=document.getElementById("messagesList");i.addEventListener("click",function(){console.log("Chat bubble clicked.");r.style.display="flex";i.style.display="none"});o.addEventListener("click",function(){console.log("Chat close clicked.");r.style.display="none";i.style.display="flex"});const n=(new signalR.HubConnectionBuilder).withUrl("/livechat").build();console.log("Starting connection...");n.start().then(()=>{console.log("SignalR connection started. Connection ID:",n.connectionId),n.invoke("LoadPreviousMessages").then(()=>console.log("LoadPreviousMessages invoked successfully.")).catch(n=>console.error("Error invoking LoadPreviousMessages:",n.toString()))}).catch(n=>console.error("Error starting connection:",n.toString()));s.addEventListener("click",function(){const t=f.value.trim();if(t===""){console.log("Empty message; not sending.");return}console.log("Sending message:",t);const i={message:t,sentAt:(new Date).toISOString()};n.invoke("SendMessage",i).then(()=>console.log("Message sent successfully.")).catch(n=>console.error("Error sending message:",n.toString()));f.value=""});n.on("ReceiveMessage",function(n){console.log("ReceiveMessage event received:",n);e(n)});n.on("LoadMessages",function(n){console.log("LoadMessages received:",n);t.innerHTML="";n.forEach(n=>e(n))})});